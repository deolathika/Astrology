(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7669],{8857:function(e,t,s){Promise.resolve().then(s.bind(s,5968))},9763:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=(e,t)=>{let s=(0,r.forwardRef)((s,l)=>{let{color:i="currentColor",size:c=24,strokeWidth:d=2,absoluteStrokeWidth:o,children:m,...x}=s;return(0,r.createElement)("svg",{ref:l,...n,width:c,height:c,stroke:i,strokeWidth:o?24*Number(d)/Number(c):d,className:"lucide lucide-".concat(a(e)),...x},[...t.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...(Array.isArray(m)?m:[m])||[]])});return s.displayName="".concat(e),s}},3618:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]])},875:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},2135:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},4502:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]])},6595:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(9763).Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]])},5968:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return x}});var r=s(7437),n=s(2265),a=s(429),l=s(5095),i=s(4502),c=s(6595),d=s(3618),o=s(2135),m=s(875);function x(){let[e,t]=(0,n.useState)(null),[s,x]=(0,n.useState)("western"),[h,u]=(0,n.useState)({}),[g,p]=(0,n.useState)(!0);(0,n.useEffect)(()=>{f()},[]);let f=async()=>{try{let e=localStorage.getItem("userData");if(!e){window.location.href="/onboarding";return}let s=JSON.parse(e),[r,n]=await Promise.all([fetch("/api/astro/natal?profileId=".concat(s.id)),fetch("/api/numerology/enhanced?profileId=".concat(s.id))]);if(r.ok&&n.ok){let e=await r.json(),s=await n.json();t({western:e.western,vedic:e.vedic,numerology:s.numerology})}}catch(e){t({western:{sun:{sign:"Leo",degree:15.5,house:5},moon:{sign:"Cancer",degree:8.2,house:4},ascendant:{sign:"Gemini",degree:22.1},houses:[{sign:"Gemini",cusp:0},{sign:"Cancer",cusp:30},{sign:"Leo",cusp:60},{sign:"Virgo",cusp:90},{sign:"Libra",cusp:120},{sign:"Scorpio",cusp:150},{sign:"Sagittarius",cusp:180},{sign:"Capricorn",cusp:210},{sign:"Aquarius",cusp:240},{sign:"Pisces",cusp:270},{sign:"Aries",cusp:300},{sign:"Taurus",cusp:330}],elements:{fire:3,earth:2,air:4,water:3}},vedic:{sun:{sign:"Cancer",degree:1.2,nakshatra:"Pushya",pada:1},moon:{sign:"Gemini",degree:25.8,nakshatra:"Punarvasu",pada:3},ascendant:{sign:"Taurus",degree:8.5},dasha:{current:"Venus",next:"Sun",years:2.5},elements:{fire:2,earth:4,air:3,water:3}},numerology:{lifePath:7,expression:3,soulUrge:9,personality:6,birthday:15,maturity:1,masterNumbers:[11],chaldean:{lifePath:5,expression:8,soulUrge:4}}})}finally{p(!1)}},y=e=>{u(t=>({...t,[e]:!t[e]}))},b=e=>{switch(e){case"fire":return"text-red-500";case"earth":return"text-green-500";case"air":return"text-blue-500";case"water":return"text-purple-500";default:return"text-gray-500"}},j=e=>{switch(e){case 11:return"text-violet-600";case 22:return"text-blue-600";case 33:return"text-green-600";default:return"text-gray-600"}};return g?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 border-4 border-violet-200 border-t-violet-600 rounded-full animate-spin"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading your cosmic profile..."})]})}):e?(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 text-gray-800 p-4",children:(0,r.jsxs)(a.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-6xl mx-auto py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("h1",{className:"text-4xl font-bold text-gradient-primary flex items-center",children:[(0,r.jsx)(i.Z,{className:"w-8 h-8 mr-3"}),"Astrology Comparison"]}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Compare Western, Vedic, and Numerology insights"})]}),(0,r.jsx)("div",{className:"flex justify-center mb-8",children:(0,r.jsx)("div",{className:"bg-gray-100 p-1 rounded-lg",children:[{id:"western",label:"Western",icon:c.Z},{id:"vedic",label:"Vedic",icon:c.Z},{id:"numerology",label:"Numerology",icon:d.Z}].map(e=>{let t=e.icon;return(0,r.jsxs)("button",{onClick:()=>x(e.id),className:"flex items-center space-x-2 px-4 py-2 rounded-md transition-colors ".concat(s===e.id?"bg-white text-violet-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[(0,r.jsx)(t,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:e.label})]},e.id)})})}),"western"===s&&(0,r.jsx)(a.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:(0,r.jsxs)("div",{className:"card p-6",children:[(0,r.jsxs)("h2",{className:"text-2xl font-semibold text-gray-900 mb-6 flex items-center",children:[(0,r.jsx)(c.Z,{className:"w-6 h-6 mr-2"}),"Western Astrology"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Sun"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:e.western.sun.sign}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[e.western.sun.degree.toFixed(1),"\xb0 • House ",e.western.sun.house]})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Moon"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.western.moon.sign}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[e.western.moon.degree.toFixed(1),"\xb0 • House ",e.western.moon.house]})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Ascendant"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.western.ascendant.sign}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[e.western.ascendant.degree.toFixed(1),"\xb0"]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Elements Balance"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(e.western.elements).map(e=>{let[t,s]=e;return(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold ".concat(b(t)),children:s}),(0,r.jsx)("div",{className:"text-sm text-gray-600 capitalize",children:t})]},t)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("button",{onClick:()=>y("houses"),className:"flex items-center justify-between w-full p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Houses"}),h.houses?(0,r.jsx)(o.Z,{className:"w-5 h-5"}):(0,r.jsx)(m.Z,{className:"w-5 h-5"})]}),(0,r.jsx)(l.M,{children:h.houses&&(0,r.jsx)(a.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4",children:(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e.western.houses.map((e,t)=>(0,r.jsxs)("div",{className:"text-center p-3 bg-white rounded-lg border",children:[(0,r.jsxs)("div",{className:"font-semibold text-gray-900",children:["House ",t+1]}),(0,r.jsx)("div",{className:"text-sm text-gray-600",children:e.sign})]},t))})})})]})]})}),"vedic"===s&&(0,r.jsx)(a.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:(0,r.jsxs)("div",{className:"card p-6",children:[(0,r.jsxs)("h2",{className:"text-2xl font-semibold text-gray-900 mb-6 flex items-center",children:[(0,r.jsx)(c.Z,{className:"w-6 h-6 mr-2"}),"Vedic Astrology"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Sun"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:e.vedic.sun.sign}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[e.vedic.sun.nakshatra," Pada ",e.vedic.sun.pada]})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Moon"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.vedic.moon.sign}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[e.vedic.moon.nakshatra," Pada ",e.vedic.moon.pada]})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Ascendant"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.vedic.ascendant.sign}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[e.vedic.ascendant.degree.toFixed(1),"\xb0"]})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Current Dasha"}),(0,r.jsx)("div",{className:"p-4 bg-violet-50 rounded-lg",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-violet-600",children:e.vedic.dasha.current}),(0,r.jsxs)("div",{className:"text-sm text-gray-600",children:[e.vedic.dasha.years," years remaining"]}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Next: ",e.vedic.dasha.next]})]})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Elements Balance"}),(0,r.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(e.vedic.elements).map(e=>{let[t,s]=e;return(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold ".concat(b(t)),children:s}),(0,r.jsx)("div",{className:"text-sm text-gray-600 capitalize",children:t})]},t)})})]})]})}),"numerology"===s&&(0,r.jsx)(a.E.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"space-y-6",children:(0,r.jsxs)("div",{className:"card p-6",children:[(0,r.jsxs)("h2",{className:"text-2xl font-semibold text-gray-900 mb-6 flex items-center",children:[(0,r.jsx)(d.Z,{className:"w-6 h-6 mr-2"}),"Numerology"]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)("div",{className:"text-center p-4 bg-violet-50 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Life Path"}),(0,r.jsx)("div",{className:"text-3xl font-bold ".concat(j(e.numerology.lifePath)),children:e.numerology.lifePath}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Your life's purpose"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Expression"}),(0,r.jsx)("div",{className:"text-3xl font-bold ".concat(j(e.numerology.expression)),children:e.numerology.expression}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Your talents"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Soul Urge"}),(0,r.jsx)("div",{className:"text-3xl font-bold ".concat(j(e.numerology.soulUrge)),children:e.numerology.soulUrge}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Your heart's desire"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Personality"}),(0,r.jsx)("div",{className:"text-3xl font-bold ".concat(j(e.numerology.personality)),children:e.numerology.personality}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"How others see you"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-pink-50 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Birthday"}),(0,r.jsx)("div",{className:"text-3xl font-bold ".concat(j(e.numerology.birthday)),children:e.numerology.birthday}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Your special gift"})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Maturity"}),(0,r.jsx)("div",{className:"text-3xl font-bold ".concat(j(e.numerology.maturity)),children:e.numerology.maturity}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"Your potential"})]})]}),e.numerology.masterNumbers.length>0&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Master Numbers"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:e.numerology.masterNumbers.map(e=>(0,r.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-semibold ".concat(j(e)," bg-violet-100"),children:[e," - Master Number"]},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("button",{onClick:()=>y("chaldean"),className:"flex items-center justify-between w-full p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Chaldean System"}),h.chaldean?(0,r.jsx)(o.Z,{className:"w-5 h-5"}):(0,r.jsx)(m.Z,{className:"w-5 h-5"})]}),(0,r.jsx)(l.M,{children:h.chaldean&&(0,r.jsx)(a.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,r.jsxs)("div",{className:"text-center p-4 bg-violet-50 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Life Path"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-violet-600",children:e.numerology.chaldean.lifePath})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Expression"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.numerology.chaldean.expression})]}),(0,r.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,r.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Soul Urge"}),(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.numerology.chaldean.soulUrge})]})]})})})]})]})})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"No Data Available"}),(0,r.jsx)("p",{className:"text-gray-600 mb-6",children:"Please complete your profile to see comparisons"}),(0,r.jsx)("button",{className:"btn btn-primary",onClick:()=>window.location.href="/onboarding",children:"Complete Profile"})]})})}},5095:function(e,t,s){"use strict";s.d(t,{M:function(){return p}});var r=s(2265),n=s(1534);function a(){let e=(0,r.useRef)(!1);return(0,n.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var l=s(8345),i=s(4252),c=s(3576);class d extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function o({children:e,isPresent:t}){let s=(0,r.useId)(),n=(0,r.useRef)(null),a=(0,r.useRef)({width:0,height:0,top:0,left:0});return(0,r.useInsertionEffect)(()=>{let{width:e,height:r,top:l,left:i}=a.current;if(t||!n.current||!e||!r)return;n.current.dataset.motionPopId=s;let c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            top: ${l}px !important;
            left: ${i}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[t]),r.createElement(d,{isPresent:t,childRef:n,sizeRef:a},r.cloneElement(e,{ref:n}))}let m=({children:e,initial:t,isPresent:s,onExitComplete:n,custom:a,presenceAffectsLayout:l,mode:d})=>{let m=(0,c.h)(x),h=(0,r.useId)(),u=(0,r.useMemo)(()=>({id:h,initial:t,isPresent:s,custom:a,onExitComplete:e=>{for(let t of(m.set(e,!0),m.values()))if(!t)return;n&&n()},register:e=>(m.set(e,!1),()=>m.delete(e))}),l?void 0:[s]);return(0,r.useMemo)(()=>{m.forEach((e,t)=>m.set(t,!1))},[s]),r.useEffect(()=>{s||m.size||!n||n()},[s]),"popLayout"===d&&(e=r.createElement(o,{isPresent:s},e)),r.createElement(i.O.Provider,{value:u},e)};function x(){return new Map}var h=s(8881),u=s(3223);let g=e=>e.key||"",p=({children:e,custom:t,initial:s=!0,onExitComplete:i,exitBeforeEnter:c,presenceAffectsLayout:d=!0,mode:o="sync"})=>{var x;(0,u.k)(!c,"Replace exitBeforeEnter with mode='wait'");let p=(0,r.useContext)(h.p).forceRender||function(){let e=a(),[t,s]=(0,r.useState)(0),n=(0,r.useCallback)(()=>{e.current&&s(t+1)},[t]);return[(0,r.useCallback)(()=>l.Wi.postRender(n),[n]),t]}()[0],f=a(),y=function(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}(e),b=y,j=(0,r.useRef)(new Map).current,N=(0,r.useRef)(b),v=(0,r.useRef)(new Map).current,w=(0,r.useRef)(!0);if((0,n.L)(()=>{w.current=!1,function(e,t){e.forEach(e=>{let s=g(e);t.set(s,e)})}(y,v),N.current=b}),x=()=>{w.current=!0,v.clear(),j.clear()},(0,r.useEffect)(()=>()=>x(),[]),w.current)return r.createElement(r.Fragment,null,b.map(e=>r.createElement(m,{key:g(e),isPresent:!0,initial:!!s&&void 0,presenceAffectsLayout:d,mode:o},e)));b=[...b];let k=N.current.map(g),E=y.map(g),C=k.length;for(let e=0;e<C;e++){let t=k[e];-1!==E.indexOf(t)||j.has(t)||j.set(t,void 0)}return"wait"===o&&j.size&&(b=[]),j.forEach((e,s)=>{if(-1!==E.indexOf(s))return;let n=v.get(s);if(!n)return;let a=k.indexOf(s),l=e;l||(l=r.createElement(m,{key:g(n),isPresent:!1,onExitComplete:()=>{j.delete(s);let e=Array.from(v.keys()).filter(e=>!E.includes(e));if(e.forEach(e=>v.delete(e)),N.current=y.filter(t=>{let r=g(t);return r===s||e.includes(r)}),!j.size){if(!1===f.current)return;p(),i&&i()}},custom:t,presenceAffectsLayout:d,mode:o},n),j.set(s,l)),b.splice(a,0,l)}),b=b.map(e=>{let t=e.key;return j.has(t)?e:r.createElement(m,{key:g(e),isPresent:!0,presenceAffectsLayout:d,mode:o},e)}),r.createElement(r.Fragment,null,j.size?b:b.map(e=>(0,r.cloneElement)(e)))}}},function(e){e.O(0,[429,2971,2117,1744],function(){return e(e.s=8857)}),_N_E=e.O()}]);