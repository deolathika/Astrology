"use strict";(()=>{var e={};e.id=68,e.ids=[68],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},76500:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>h,patchFetch:()=>m,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>p});var i={};a.r(i),a.d(i,{POST:()=>u});var o=a(49303),n=a(88716),s=a(60670),r=a(87070),l=a(5919);async function u(e){try{let{birthData:t}=await e.json();if(!t)return r.NextResponse.json({error:"Birth data is required"},{status:400});let a=await l.f.calculateAstrologyData(t);return r.NextResponse.json({success:!0,data:a})}catch(e){return r.NextResponse.json({error:"Failed to calculate astrology data"},{status:500})}}let c=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/astrology/calculate/route",pathname:"/api/astrology/calculate",filename:"route",bundlePath:"app/api/astrology/calculate/route"},resolvedPagePath:"/Users/lathikadissanayaka/P E R S O N A L/daily_secrets_app/src/app/api/astrology/calculate/route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:d,staticGenerationAsyncStorage:p,serverHooks:g}=c,h="/api/astrology/calculate/route";function m(){return(0,s.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:p})}},5919:(e,t,a)=>{a.d(t,{f:()=>o});class i{constructor(){this.isInitialized=!1,this.backendUrl=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3001",this.initialize()}async initialize(){try{console.log("Initializing Swiss Ephemeris via backend..."),this.isInitialized=!0}catch(e){throw console.error("Failed to initialize Swiss Ephemeris:",e),Error("Swiss Ephemeris initialization failed")}}async calculatePlanetaryPositions(e){this.isInitialized||await this.initialize();try{return console.log("Using mock planetary positions for development"),this.getMockPlanetaryPositions()}catch(e){return console.error("Failed to calculate planetary positions:",e),this.getMockPlanetaryPositions()}}getMockPlanetaryPositions(){return["Sun","Moon","Mercury","Venus","Mars","Jupiter","Saturn","Uranus","Neptune","Pluto","North Node","South Node"].map((e,t)=>({name:e,longitude:360*Math.random(),latitude:(Math.random()-.5)*10,distance:1+2*Math.random(),speed:2*Math.random()-1}))}async calculateHouseCusps(e){this.isInitialized||await this.initialize();try{return console.log("Using mock house cusps for development"),this.getMockHouseCusps()}catch(e){return console.error("Failed to calculate house cusps:",e),this.getMockHouseCusps()}}getMockHouseCusps(){let e=[];for(let t=1;t<=12;t++)e.push({house:t,longitude:360*Math.random()});return e}getZodiacSign(e){return["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"][Math.floor(e/30)%12]}async calculateAstrologyData(e){let t=await this.calculatePlanetaryPositions(e),a=await this.calculateHouseCusps(e),i=t.find(e=>"Sun"===e.name),o=t.find(e=>"Moon"===e.name),n=a.find(e=>1===e.house)?.longitude||0,s=a.find(e=>10===e.house)?.longitude||0;return{planets:t,houses:a,ascendant:n,midheaven:s,sunSign:i?this.getZodiacSign(i.longitude):"Unknown",moonSign:o?this.getZodiacSign(o.longitude):"Unknown",risingSign:this.getZodiacSign(n)}}async calculateTransits(e,t){let a={...t,year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate(),hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds()};return this.calculatePlanetaryPositions(a)}calculateAspects(e){let t=[],a=[{name:"Conjunction",angle:0,orb:8},{name:"Sextile",angle:60,orb:6},{name:"Square",angle:90,orb:8},{name:"Trine",angle:120,orb:8},{name:"Opposition",angle:180,orb:8}];for(let i=0;i<e.length;i++)for(let o=i+1;o<e.length;o++){let n=e[i],s=e[o],r=Math.abs(n.longitude-s.longitude),l=Math.min(r,360-r);for(let e of a)Math.abs(l-e.angle)<=e.orb&&t.push({planet1:n.name,planet2:s.name,aspect:e.name,orb:Math.abs(l-e.angle)})}return t}}let o=new i}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),i=t.X(0,[276,972],()=>a(76500));module.exports=i})();