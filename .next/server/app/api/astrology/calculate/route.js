"use strict";(()=>{var t={};t.id=3068,t.ids=[3068],t.modules={20399:t=>{t.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:t=>{t.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},76500:(t,e,a)=>{a.r(e),a.d(e,{originalPathname:()=>p,patchFetch:()=>m,requestAsyncStorage:()=>d,routeModule:()=>c,serverHooks:()=>h,staticGenerationAsyncStorage:()=>g});var i={};a.r(i),a.d(i,{POST:()=>u});var n=a(49303),s=a(88716),r=a(60670),o=a(87070),l=a(5919);async function u(t){try{let{birthData:e}=await t.json();if(!e)return o.NextResponse.json({error:"Birth data is required"},{status:400});let a=await l.f.calculateAstrologyData(e);return o.NextResponse.json({success:!0,data:a})}catch(t){return o.NextResponse.json({error:"Failed to calculate astrology data"},{status:500})}}let c=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/astrology/calculate/route",pathname:"/api/astrology/calculate",filename:"route",bundlePath:"app/api/astrology/calculate/route"},resolvedPagePath:"/Users/lathikadissanayaka/P E R S O N A L/daily_secrets_app/src/app/api/astrology/calculate/route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:d,staticGenerationAsyncStorage:g,serverHooks:h}=c,p="/api/astrology/calculate/route";function m(){return(0,r.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:g})}},5919:(t,e,a)=>{a.d(e,{f:()=>n});class i{constructor(){this.isInitialized=!1,this.backendUrl=process.env.NEXT_PUBLIC_API_URL||"http://localhost:3001",this.initialize()}async initialize(){try{this.isInitialized=!0}catch(t){throw Error("Swiss Ephemeris initialization failed")}}async calculatePlanetaryPositions(t){this.isInitialized||await this.initialize();try{return this.getMockPlanetaryPositions()}catch(t){return this.getMockPlanetaryPositions()}}getMockPlanetaryPositions(){return["Sun","Moon","Mercury","Venus","Mars","Jupiter","Saturn","Uranus","Neptune","Pluto","North Node","South Node"].map((t,e)=>({name:t,longitude:360*Math.random(),latitude:(Math.random()-.5)*10,distance:1+2*Math.random(),speed:2*Math.random()-1}))}async calculateHouseCusps(t){this.isInitialized||await this.initialize();try{return this.getMockHouseCusps()}catch(t){return this.getMockHouseCusps()}}getMockHouseCusps(){let t=[];for(let e=1;e<=12;e++)t.push({house:e,longitude:360*Math.random()});return t}getZodiacSign(t){return["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"][Math.floor(t/30)%12]}async calculateAstrologyData(t){let e=await this.calculatePlanetaryPositions(t),a=await this.calculateHouseCusps(t),i=e.find(t=>"Sun"===t.name),n=e.find(t=>"Moon"===t.name),s=a.find(t=>1===t.house)?.longitude||0,r=a.find(t=>10===t.house)?.longitude||0;return{planets:e,houses:a,ascendant:s,midheaven:r,sunSign:i?this.getZodiacSign(i.longitude):"Unknown",moonSign:n?this.getZodiacSign(n.longitude):"Unknown",risingSign:this.getZodiacSign(s)}}async calculateTransits(t,e){let a={...e,year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds()};return this.calculatePlanetaryPositions(a)}calculateAspects(t){let e=[],a=[{name:"Conjunction",angle:0,orb:8},{name:"Sextile",angle:60,orb:6},{name:"Square",angle:90,orb:8},{name:"Trine",angle:120,orb:8},{name:"Opposition",angle:180,orb:8}];for(let i=0;i<t.length;i++)for(let n=i+1;n<t.length;n++){let s=t[i],r=t[n],o=Math.abs(s.longitude-r.longitude),l=Math.min(o,360-o);for(let t of a)Math.abs(l-t.angle)<=t.orb&&e.push({planet1:s.name,planet2:r.name,aspect:t.name,orb:Math.abs(l-t.angle)})}return e}}let n=new i}};var e=require("../../../../webpack-runtime.js");e.C(t);var a=t=>e(e.s=t),i=e.X(0,[9276,5972],()=>a(76500));module.exports=i})();